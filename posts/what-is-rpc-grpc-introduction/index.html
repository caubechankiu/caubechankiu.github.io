<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>gRPC là gì? Giới thiệu về gRPC - caubechankiu's miscellaneous notes</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="gRPC là một framework RPC (Remote Procedure Call) mã nguồn mở được Google tạo ra vào năm 2016. Đây là phiên bản viết lại của cơ sở hạ tầng RPC nội bộ mà Google đã sử dụng trong nhiều năm."><meta property="og:image" content><meta property="og:url" content="https://caubechankiu.github.io/posts/what-is-rpc-grpc-introduction/"><meta property="og:site_name" content="caubechankiu's miscellaneous notes"><meta property="og:title" content="gRPC là gì? Giới thiệu về gRPC"><meta property="og:description" content="gRPC là một framework RPC (Remote Procedure Call) mã nguồn mở được Google tạo ra vào năm 2016. Đây là phiên bản viết lại của cơ sở hạ tầng RPC nội bộ mà Google đã sử dụng trong nhiều năm."><meta property="og:locale" content="vi_VN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-15T10:00:00+07:00"><meta property="article:modified_time" content="2023-07-15T10:00:00+07:00"><meta property="article:tag" content="Grpc"><meta property="article:tag" content="Microservice"><meta name=twitter:card content="summary"><meta name=twitter:title content="gRPC là gì? Giới thiệu về gRPC"><meta name=twitter:description content="gRPC là một framework RPC (Remote Procedure Call) mã nguồn mở được Google tạo ra vào năm 2016. Đây là phiên bản viết lại của cơ sở hạ tầng RPC nội bộ mà Google đã sử dụng trong nhiều năm."><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://caubechankiu.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/archie.90f4a1321261c2df9485c29a7877582160bb95d018fefaa5f2199bccf7b169f5.css></head><body><div class=content><header><div class=main><a href=https://caubechankiu.github.io/>caubechankiu's miscellaneous notes</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/tags>Tags</a>
| <span id=dark-mode-toggle onclick=toggleTheme()><svg class="feather"><use href="https://unpkg.com/feather-icons@4.29.2/dist/feather-sprite.svg#sun"/></svg></span>
<script src=https://caubechankiu.github.io/js/themetoggle.js></script></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>gRPC là gì? Giới thiệu về gRPC</h1><div class=meta>Posted on Jul 15, 2023</div></div><section class=body><h1 id=grpc-là-gì-giới-thiệu-về-grpc>gRPC là gì? Giới thiệu về gRPC</h1><p>gRPC là một framework RPC (Remote Procedure Call) mã nguồn mở được Google tạo ra vào năm 2016. Đây là phiên bản viết lại của cơ sở hạ tầng RPC nội bộ mà Google đã sử dụng trong nhiều năm.</p><h2 id=rpc-là-gì>RPC là gì?</h2><p>Trước khi đi sâu vào gRPC, chúng ta hãy hiểu RPC là gì:</p><ul><li><strong>Local Procedure Call (Lời gọi thủ tục cục bộ)</strong>: Là một lời gọi hàm trong một tiến trình để thực thi một đoạn mã.</li><li><strong>Remote Procedure Call (Lời gọi thủ tục từ xa)</strong>: Cho phép một máy gọi và thực thi mã trên một máy khác như thể đó là một lời gọi hàm cục bộ từ góc độ người dùng.</li></ul><p>gRPC là một triển khai phổ biến của RPC. Nhiều tổ chức đã áp dụng gRPC làm cơ chế RPC ưu tiên để kết nối số lượng lớn các microservice chạy trong và giữa các trung tâm dữ liệu.</p><h2 id=điều-gì-làm-cho-grpc-trở-nên-phổ-biến>Điều gì làm cho gRPC trở nên phổ biến?</h2><h3 id=1-hệ-sinh-thái-phát-triển-sôi-động>1. Hệ sinh thái phát triển sôi động</h3><p>gRPC giúp việc phát triển các API chất lượng sản xuất và an toàn về kiểu dữ liệu trở nên dễ dàng và có khả năng mở rộng tốt. Cốt lõi của hệ sinh thái này là việc sử dụng Protocol Buffers làm định dạng trao đổi dữ liệu.</p><p><strong>Protocol Buffers</strong> là một cơ chế độc lập với ngôn ngữ và nền tảng để mã hóa dữ liệu có cấu trúc. gRPC sử dụng Protocol Buffers để mã hóa và gửi dữ liệu qua mạng theo mặc định. Mặc dù gRPC có thể hỗ trợ các định dạng mã hóa khác như JSON, Protocol Buffers cung cấp nhiều lợi thế khiến nó trở thành định dạng mã hóa được lựa chọn cho gRPC:</p><ul><li>Hỗ trợ định nghĩa lược đồ kiểu mạnh. Cấu trúc dữ liệu được định nghĩa trong file proto.</li><li>Cung cấp hỗ trợ công cụ rộng rãi để chuyển đổi lược đồ được định nghĩa trong file proto thành các lớp truy cập dữ liệu cho tất cả các ngôn ngữ lập trình phổ biến.</li><li>Dịch vụ gRPC cũng được định nghĩa trong file proto bằng cách chỉ định các tham số phương thức RPC và kiểu trả về.</li><li>Cùng một công cụ được sử dụng để tạo mã máy khách và máy chủ gRPC từ file proto.</li></ul><p>Nhờ hỗ trợ nhiều ngôn ngữ lập trình, máy khách và máy chủ có thể độc lập lựa chọn ngôn ngữ lập trình và hệ sinh thái phù hợp nhất cho trường hợp sử dụng riêng của họ. Điều này thường không có trong hầu hết các framework RPC khác.</p><h3 id=2-hiệu-suất-cao-ngay-từ-đầu>2. Hiệu suất cao ngay từ đầu</h3><p>Hai yếu tố góp phần vào hiệu suất của gRPC:</p><ul><li><strong>Protocol Buffers</strong> là một định dạng mã hóa nhị phân rất hiệu quả, nhanh hơn nhiều so với JSON.</li><li><strong>gRPC được xây dựng trên HTTP/2</strong> để cung cấp nền tảng hiệu suất cao ở quy mô lớn. Việc sử dụng HTTP/2 mang lại nhiều lợi ích.</li></ul><p>gRPC sử dụng các luồng HTTP/2, cho phép nhiều luồng tin nhắn qua một kết nối TCP tồn tại lâu dài. Điều này cho phép framework gRPC xử lý nhiều cuộc gọi RPC đồng thời qua một số lượng nhỏ kết nối TCP giữa máy khách và máy chủ.</p><h2 id=cách-grpc-hoạt-động>Cách gRPC hoạt động</h2><p>Để hiểu cách gRPC hoạt động, hãy xem xét một luồng điển hình từ máy khách gRPC đến máy chủ gRPC:</p><ol><li>Trong ví dụ này, Order Service là máy khách gRPC và Payment Service là máy chủ gRPC.</li><li>Khi Order Service thực hiện cuộc gọi gRPC đến Payment Service, nó gọi mã máy khách được tạo bởi công cụ gRPC tại thời điểm xây dựng. Mã máy khách được tạo này được gọi là client stub.</li><li>gRPC mã hóa dữ liệu được truyền vào client stub thành Protocol Buffers và gửi nó đến lớp vận chuyển cấp thấp.</li><li>gRPC gửi dữ liệu qua mạng dưới dạng luồng các khung dữ liệu HTTP/2. Do mã hóa nhị phân và tối ưu hóa mạng, gRPC được cho là nhanh hơn JSON 5 lần.</li><li>Payment Service nhận các gói tin từ mạng, giải mã chúng và gọi ứng dụng máy chủ.</li><li>Kết quả trả về từ ứng dụng máy chủ được mã hóa thành Protocol Buffers và gửi đến lớp vận chuyển.</li><li>Order Service nhận các gói tin, giải mã chúng và gửi kết quả đến ứng dụng máy khách.</li></ol><h2 id=khi-nào-nên-sử-dụng-grpc>Khi nào nên sử dụng gRPC?</h2><p>gRPC rất dễ triển khai, nhưng tại sao chúng ta không thấy việc sử dụng rộng rãi gRPC giữa máy khách web và máy chủ web? Một lý do là gRPC dựa vào quyền truy cập cấp thấp hơn vào các nguyên thủy HTTP/2. Hiện tại, không có trình duyệt nào cung cấp mức độ kiểm soát cần thiết đối với các yêu cầu web để hỗ trợ máy khách gRPC.</p><p>Có thể thực hiện các cuộc gọi gRPC từ trình duyệt với sự trợ giúp của proxy. Công nghệ này được gọi là gRPC-Web. Tuy nhiên, tập tính năng không hoàn toàn tương thích với gRPC và việc sử dụng vẫn thấp so với gRPC.</p><p>gRPC phù hợp nhất trong các trường hợp sau:</p><ul><li><strong>Giao tiếp giữa các microservice trong trung tâm dữ liệu</strong>: Hỗ trợ rộng rãi cho nhiều ngôn ngữ lập trình cho phép các dịch vụ lựa chọn ngôn ngữ và hệ sinh thái phát triển phù hợp nhất cho trường hợp sử dụng riêng của họ.</li><li><strong>Trong các ứng dụng di động native</strong>: Hiệu quả và hiệu suất của gRPC rất có ý nghĩa trong môi trường bị hạn chế về năng lượng và băng thông như các thiết bị di động.</li></ul></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/grpc>grpc</a></li><li><a href=/tags/microservice>microservice</a></li></ul></nav></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/caubechankiu rel=me title=GitHub><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github"/></svg></a><a class=border></a><a class=soc href=https://www.facebook.com/trinhthevils rel=me title=Facebook><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#facebook"/></svg></a><a class=border></a></div><div class=footer-info>2025 © caubechankiu | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>