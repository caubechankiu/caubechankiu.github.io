<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Git merge vs rebase - caubechankiu's miscellaneous notes</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Nếu bạn từng làm việc trên một dự án Git có nhiều branch, có lẽ bạn đã từng phải tìm cách đưa các thay đổi từ feature branch về lại main branch, hoặc giữ cho feature branch luôn được cập nhật từ main branch. Giờ nên xài git merge, git rebase hay squash commit?"><meta property="og:image" content><meta property="og:url" content="https://caubechankiu.github.io/posts/git-merge-and-rebase/"><meta property="og:site_name" content="caubechankiu's miscellaneous notes"><meta property="og:title" content="Git merge vs rebase"><meta property="og:description" content="Nếu bạn từng làm việc trên một dự án Git có nhiều branch, có lẽ bạn đã từng phải tìm cách đưa các thay đổi từ feature branch về lại main branch, hoặc giữ cho feature branch luôn được cập nhật từ main branch. Giờ nên xài git merge, git rebase hay squash commit?"><meta property="og:locale" content="vi_VN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-17T10:43:32+07:00"><meta property="article:modified_time" content="2022-12-17T10:43:32+07:00"><meta property="article:tag" content="Git"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git merge vs rebase"><meta name=twitter:description content="Nếu bạn từng làm việc trên một dự án Git có nhiều branch, có lẽ bạn đã từng phải tìm cách đưa các thay đổi từ feature branch về lại main branch, hoặc giữ cho feature branch luôn được cập nhật từ main branch. Giờ nên xài git merge, git rebase hay squash commit?"><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://caubechankiu.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/archie.90f4a1321261c2df9485c29a7877582160bb95d018fefaa5f2199bccf7b169f5.css></head><body><div class=content><header><div class=main><a href=https://caubechankiu.github.io/>caubechankiu's miscellaneous notes</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/tags>Tags</a>
| <span id=dark-mode-toggle onclick=toggleTheme()><svg class="feather"><use href="https://unpkg.com/feather-icons@4.29.2/dist/feather-sprite.svg#sun"/></svg></span>
<script src=https://caubechankiu.github.io/js/themetoggle.js></script></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>Git merge vs rebase</h1><div class=meta>Posted on Dec 17, 2022</div></div><section class=body><p>Nếu bạn từng làm việc trên một dự án Git có nhiều branch, có lẽ bạn đã từng phải tìm cách đưa các thay đổi từ feature branch về lại main branch, hoặc giữ cho feature branch luôn được cập nhật từ main branch. Câu hỏi lớn đặt ra là: chúng ta nên dùng <code>git merge</code>, <code>git rebase</code>, hay nên <code>squash commit</code>?</p><p>Giả sử chúng ta vừa tạo một feature branch mới từ main. Trên branch này, chúng ta đã thêm các commit A, B và C. Cùng lúc đó, main cũng có thêm các commit D và E.</p><p><img src=image1.png alt></p><p>Giữ cho feature branch luôn được cập nhật từ main là một phần quan trọng trong quy trình làm việc với Git. Chúng ta có thể thực hiện điều này bằng cách dùng <code>git merge</code> hoặc <code>git rebase</code>.</p><ul><li><code>git merge</code> sẽ lấy các thay đổi mới nhất từ main và đưa vào feature branch, đồng thời tạo ra một <code>merge commit</code> mới trong quá trình này.</li></ul><p><img src=image2.png alt></p><ul><li>Còn <code>git rebase</code> thì sẽ thay đổi điểm gốc (base) của feature branch thành commit mới nhất trên main, đồng thời sửa lại các commit trên feature branch từ điểm gốc mới đó. Nó cho ta một lịch sử commit đẹp và thẳng. Nhiều người rất thích điều này.</li></ul><p><img src=image3.png alt></p><p>Bây giờ, khi chúng ta đã hoàn thành việc phát triển tính năng, bước tiếp theo là đưa feature branch trở lại main. Chúng ta có một vài lựa chọn để làm điều này:</p><ul><li><code>git merge</code>: Nó sẽ tạo ra một <code>merge commit</code> mới để kết nối lịch sử của cả hai branch lại với nhau. Tuy nhiên, nếu chúng ta làm việc này thường xuyên, sẽ có rất nhiều <code>merge commit</code> được tạo ra, và điều đó có thể khiến lịch sử commit trở nên hơi rối rắm.</li></ul><p><img src=image4.png alt></p><ul><li><code>git rebase và fast-forward merge</code>: chúng ta có thể dùng <code>git rebase</code> để chuyển các thay đổi của feature branch lên đầu main branch, rồi thực hiện một <code>fast-forward merge</code>. Làm cách này sẽ giúp lịch sử commit đẹp hơn. <code>fast-forward merge</code> thực chất vẫn là dùng lệnh <code>git merge</code>, nhưng Git sẽ không tạo ra <code>merge commit</code> vì nó thấy rằng branch hiện tại (main) là gốc trực tiếp của branch được merge vào (feature branch).</li></ul><p><img src=image3.png alt>
<img src=image5.png alt></p><ul><li><code>squash commit</code>: gộp tất cả các commit của feature branch thành một commit duy nhất rồi merge commit đó vào main. Cách này giúp lịch sử commit được tuyến tính như rebase nhưng vẫn tạo ra một merge commit. Tuy nhiên sẽ mất đi chi tiết các commit riêng lẻ đã thực hiện trước đó trong lịch sử commit của main. Squash commit là cách khá phổ biến trên các nền tảng như GitHub vì nó cho phép ta dọn dẹp lịch sử commit trên main nhưng vẫn giữ được chi tiết lịch sử commit trên feature branch.</li></ul><p><img src=image6.png alt></p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/git>git</a></li></ul></nav></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/caubechankiu rel=me title=GitHub><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github"/></svg></a><a class=border></a><a class=soc href=https://www.facebook.com/trinhthevils rel=me title=Facebook><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#facebook"/></svg></a><a class=border></a></div><div class=footer-info>2025 © caubechankiu | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>