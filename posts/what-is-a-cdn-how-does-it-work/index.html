<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>What Is A CDN? How Does It Work? - caubechankiu's miscellaneous notes</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="CDN, hay mạng phân phối nội dung (Content Delivery Network), đã xuất hiện từ cuối những năm 90. Ban đầu, nó được phát triển để tăng tốc việc phân phối nội dung HTML tĩnh cho người dùng trên toàn thế giới."><meta property="og:image" content><meta property="og:url" content="https://caubechankiu.github.io/posts/what-is-a-cdn-how-does-it-work/"><meta property="og:site_name" content="caubechankiu's miscellaneous notes"><meta property="og:title" content="What Is A CDN? How Does It Work?"><meta property="og:description" content="CDN, hay mạng phân phối nội dung (Content Delivery Network), đã xuất hiện từ cuối những năm 90. Ban đầu, nó được phát triển để tăng tốc việc phân phối nội dung HTML tĩnh cho người dùng trên toàn thế giới."><meta property="og:locale" content="vi_VN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-15T09:47:31+07:00"><meta property="article:modified_time" content="2023-11-15T09:47:31+07:00"><meta property="article:tag" content="Cdn"><meta name=twitter:card content="summary"><meta name=twitter:title content="What Is A CDN? How Does It Work?"><meta name=twitter:description content="CDN, hay mạng phân phối nội dung (Content Delivery Network), đã xuất hiện từ cuối những năm 90. Ban đầu, nó được phát triển để tăng tốc việc phân phối nội dung HTML tĩnh cho người dùng trên toàn thế giới."><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://caubechankiu.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/archie.90f4a1321261c2df9485c29a7877582160bb95d018fefaa5f2199bccf7b169f5.css></head><body><div class=content><header><div class=main><a href=https://caubechankiu.github.io/>caubechankiu's miscellaneous notes</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/tags>Tags</a>
| <span id=dark-mode-toggle onclick=toggleTheme()><svg class="feather"><use href="https://unpkg.com/feather-icons@4.29.2/dist/feather-sprite.svg#sun"/></svg></span>
<script src=https://caubechankiu.github.io/js/themetoggle.js></script></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>What Is A CDN? How Does It Work?</h1><div class=meta>Posted on Nov 15, 2023</div></div><section class=body><h2 id=giới-thiệu>Giới thiệu</h2><p>CDN là gì? Tại sao chúng ta - những nhà phát triển nên tận dụng nó? Hãy cùng tìm hiểu.</p><h2 id=cdn-là-gì>CDN là gì?</h2><p>CDN, hay mạng phân phối nội dung (Content Delivery Network), đã xuất hiện từ cuối những năm 90. Ban đầu, nó được phát triển để tăng tốc việc phân phối nội dung HTML tĩnh cho người dùng trên toàn thế giới.
<img src=image1.png alt>
CDN đã phát triển qua nhiều thập kỷ. Ngày nay, CDN nên được sử dụng bất cứ khi nào lưu lượng HTTP được phục vụ.</p><h2 id=cách-thức-hoạt-động-của-cdn>Cách thức hoạt động của CDN</h2><h3 id=nguyên-lý-cơ-bản>Nguyên lý cơ bản</h3><p>Ở cấp độ cơ bản, CDN đưa nội dung đến gần người dùng hơn. Điều này cải thiện hiệu suất của dịch vụ web theo cảm nhận của người dùng. Đã có nhiều tài liệu chứng minh rằng hiệu suất là yếu tố quan trọng đối với sự tương tác và giữ chân người dùng.<figure class=center><img src=/posts/what-is-a-cdn-how-does-it-work/image2.png width=400px></figure></p><h3 id=mạng-lưới-các-điểm-hiện-diện-pop>Mạng lưới các điểm hiện diện (PoP)</h3><p>Để đưa dịch vụ đến gần người dùng hơn, CDN triển khai máy chủ tại hàng trăm địa điểm trên toàn thế giới. Các vị trí máy chủ này được gọi là Điểm hiện diện (Point of Presence), hay PoP. Một máy chủ bên trong PoP hiện nay thường được gọi là máy chủ biên (edge server). Việc có nhiều PoP trên toàn thế giới đảm bảo rằng mọi người dùng đều có thể kết nối với một máy chủ biên nhanh chóng gần họ.</p><h3 id=công-nghệ-định-tuyến>Công nghệ định tuyến</h3><p>Các CDN khác nhau sử dụng các công nghệ khác nhau để định hướng yêu cầu của người dùng đến PoP gần nhất. Hai công nghệ phổ biến là định tuyến dựa trên DNS và Anycast.</p><ul><li><strong>Định tuyến dựa trên DNS</strong>: Mỗi PoP có địa chỉ IP riêng. Khi người dùng tra cứu địa chỉ IP cho CDN, DNS trả về địa chỉ IP của PoP gần họ nhất.<figure class=center><img src=/posts/what-is-a-cdn-how-does-it-work/image3.png width=500px></figure></li><li><strong>Anycast</strong>: Tất cả các PoP chia sẻ cùng một địa chỉ IP. Khi một yêu cầu đi vào mạng Anycast cho địa chỉ IP đó, mạng sẽ gửi yêu cầu đến PoP gần nhất với người yêu cầu.<figure class=center><img src=/posts/what-is-a-cdn-how-does-it-work/image4.png width=500px></figure></li></ul><h3 id=bộ-nhớ-đệm-và-proxy-ngược>Bộ nhớ đệm và proxy ngược</h3><p>Mỗi máy chủ biên hoạt động như một proxy ngược với bộ nhớ đệm nội dung khổng lồ. Nội dung tĩnh được lưu trong bộ nhớ đệm trên máy chủ biên. Nếu một phần nội dung đã có trong bộ nhớ đệm, nó có thể được trả về nhanh chóng cho người dùng.</p><p>Vì máy chủ biên chỉ yêu cầu một bản sao của nội dung tĩnh từ máy chủ gốc nếu nó không có trong bộ nhớ đệm, điều này giảm đáng kể tải và yêu cầu băng thông của cụm máy chủ gốc.</p><h3 id=tối-ưu-hóa-nội-dung>Tối ưu hóa nội dung</h3><p>Một CDN hiện đại cũng có thể chuyển đổi nội dung tĩnh thành các định dạng tối ưu hơn. Ví dụ, nó có thể thu nhỏ các gói JavaScript ngay lập tức, hoặc chuyển đổi một tệp hình ảnh từ định dạng cũ sang định dạng hiện đại như WebP hoặc AVIF.</p><h3 id=kết-thúc-kết-nối-tls>Kết thúc kết nối TLS</h3><p>Máy chủ biên cũng đóng vai trò rất quan trọng trong ngăn xếp HTTP hiện đại. Tất cả các kết nối TLS kết thúc tại máy chủ biên. Bắt tay TLS tốn nhiều tài nguyên. Các phiên bản TLS thường được sử dụng như TLS 1.2 cần một vài vòng đi về mạng để thiết lập.</p><p>Bằng cách kết thúc kết nối TLS tại biên, nó giảm đáng kể độ trễ để người dùng thiết lập kết nối TCP được mã hóa. Đây là một lý do tại sao nhiều ứng dụng hiện đại gửi ngay cả nội dung HTTP động không thể lưu vào bộ nhớ đệm qua CDN.</p><h2 id=lợi-ích-chính-của-cdn>Lợi ích chính của CDN</h2><p>Ngoài hiệu suất, một CDN hiện đại mang lại hai lợi ích chính khác:</p><h3 id=1-bảo-mật>1. Bảo mật</h3><p>Tất cả các CDN hiện đại đều có dung lượng mạng khổng lồ ở biên. Đây là chìa khóa để cung cấp khả năng bảo vệ DDoS hiệu quả chống lại các cuộc tấn công quy mô lớn - bằng cách có mạng với dung lượng lớn hơn nhiều so với kẻ tấn công.<figure class=center><img src=/posts/what-is-a-cdn-how-does-it-work/image5.png width=500px></figure>Điều này đặc biệt hiệu quả với CDN được xây dựng trên mạng Anycast. Nó cho phép CDN phân tán lưu lượng tấn công trên một số lượng lớn máy chủ.</p><h3 id=2-tính-khả-dụng>2. Tính khả dụng</h3><p>Một CDN hiện đại cải thiện tính khả dụng. Một CDN về bản chất là phân tán cao. Bằng cách có các bản sao của nội dung có sẵn trong nhiều PoP, CDN có thể chịu đựng nhiều lỗi phần cứng hơn so với các máy chủ gốc.<figure class=center><img src=/posts/what-is-a-cdn-how-does-it-work/image6.png width=500px></figure></p><h2 id=khi-nào-nên-sử-dụng-cdn>Khi nào nên sử dụng CDN?</h2><p>Một CDN hiện đại mang lại nhiều lợi ích. Nếu chúng ta đang phục vụ lưu lượng HTTP, chúng ta nên sử dụng CDN.</p><h2 id=kết-luận>Kết luận</h2><p>CDN là một công nghệ quan trọng đã phát triển từ cuối những năm 90 đến nay. Từ việc chỉ phục vụ nội dung HTML tĩnh, CDN hiện đại đã trở thành một thành phần thiết yếu trong cơ sở hạ tầng web, mang lại nhiều lợi ích về hiệu suất, bảo mật và tính khả dụng.</p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/cdn>cdn</a></li></ul></nav></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/caubechankiu rel=me title=GitHub><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github"/></svg></a><a class=border></a><a class=soc href=https://www.facebook.com/trinhthevils rel=me title=Facebook><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#facebook"/></svg></a><a class=border></a></div><div class=footer-info>2025 © caubechankiu | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>