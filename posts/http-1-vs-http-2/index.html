<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>HTTP 1 Vs HTTP 2! - caubechankiu's miscellaneous notes</title><meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Hôm nay chúng ta sẽ đi sâu vào thế giới thú vị của HTTP - xương sống của web. Chúng ta sẽ khám phá cách nó phát triển từ HTTP 1 đến HTTP 2."><meta property="og:image" content><meta property="og:url" content="https://caubechankiu.github.io/posts/http-1-vs-http-2/"><meta property="og:site_name" content="caubechankiu's miscellaneous notes"><meta property="og:title" content="HTTP 1 Vs HTTP 2!"><meta property="og:description" content="Hôm nay chúng ta sẽ đi sâu vào thế giới thú vị của HTTP - xương sống của web. Chúng ta sẽ khám phá cách nó phát triển từ HTTP 1 đến HTTP 2."><meta property="og:locale" content="vi_VN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-15T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-15T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="HTTP 1 Vs HTTP 2!"><meta name=twitter:description content="Hôm nay chúng ta sẽ đi sâu vào thế giới thú vị của HTTP - xương sống của web. Chúng ta sẽ khám phá cách nó phát triển từ HTTP 1 đến HTTP 2."><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@1,500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://caubechankiu.github.io/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css disabled><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><link rel=stylesheet type=text/css href=https://caubechankiu.github.io/css/archie.90f4a1321261c2df9485c29a7877582160bb95d018fefaa5f2199bccf7b169f5.css></head><body><div class=content><header><div class=main><a href=https://caubechankiu.github.io/>caubechankiu's miscellaneous notes</a></div><nav><a href=/>Home</a>
<a href=/posts>All posts</a>
<a href=/tags>Tags</a>
<a href=/search/>Search</a>
| <span id=dark-mode-toggle onclick=toggleTheme()><svg class="feather"><use href="https://unpkg.com/feather-icons@4.29.2/dist/feather-sprite.svg#sun"/></svg></span>
<script src=https://caubechankiu.github.io/js/themetoggle.js></script></nav></header><main><article><div class=post-container><div class=post-content><div class=title><h1 class=title>HTTP 1 Vs HTTP 2!</h1><div class=meta>Posted on Nov 15, 2021</div></div><section class=body><p>Hôm nay chúng ta sẽ đi sâu vào thế giới thú vị của HTTP - xương sống của web. Chúng ta sẽ khám phá cách nó phát triển từ HTTP 1 đến HTTP 2.</p><h2 id=http-là-gì>HTTP là gì?</h2><p>HTTP (Hypertext Transfer Protocol) là cách trình duyệt giao tiếp với máy chủ web. Trình duyệt yêu cầu trang web và nhận lại chúng. Ban đầu, HTTP được thiết kế cho tài liệu hypertext - những tài liệu có liên kết đến các tài liệu khác. Nhưng các nhà phát triển nhanh chóng nhận ra HTTP có thể gửi cả hình ảnh và video. Ngày nay, nó còn được sử dụng cho API, truyền tệp và nhiều dịch vụ web khác.</p><h2 id=http-10-và-những-hạn-chế>HTTP 1.0 và những hạn chế</h2><p>Quay trở lại năm 1996, HTTP 1.0 được giới thiệu, nhưng trước đó đã có HTTP 0.9. HTTP 0.9 rất đơn giản: chỉ hỗ trợ phương thức GET, không có header và chỉ gửi tệp HTML. Không có HTTP header hay mã trạng thái.</p><p>HTTP 1.0 đã thêm header, mã trạng thái và các phương thức mới như POST và HEAD. Cách hoạt động rất đơn giản: trình duyệt yêu cầu trang web, máy chủ gửi nó. Mỗi yêu cầu cần một kết nối riêng, dẫn đến nhiều lần trao đổi qua lại và không hiệu quả.</p><p>Lý do là:</p><ul><li>Mỗi kết nối cần một bắt tay TCP (quá trình ba bước)</li><li>Với HTTPS, còn cần thêm bắt tay TLS cho bảo mật</li><li>Tất cả điều này xảy ra trước khi bất kỳ dữ liệu nào được gửi</li><li>Với HTTP 1.0, quá trình này diễn ra cho mọi tài nguyên: hình ảnh, tệp CSS, JavaScript&mldr;<figure class=center><img src=/posts/http-1-vs-http-2/image1.png width=500px></figure></li></ul><h2 id=http-11---cải-tiến-đáng-kể>HTTP 1.1 - Cải tiến đáng kể</h2><p>Năm 1997, HTTP 1.1 ra đời, khắc phục nhiều vấn đề của HTTP 1.0. Nó vẫn được sử dụng rộng rãi ngay cả sau 23 năm nhờ những tính năng tuyệt vời:</p><ol><li><p><strong>Kết nối liên tục</strong>: Kết nối giữ nguyên trừ khi được yêu cầu đóng, không cần đóng sau mỗi yêu cầu, không cần nhiều lần bắt tay TCP.<figure class=center><img src=/posts/http-1-vs-http-2/image2.png width=500px></figure></p></li><li><p><strong>Pipelining</strong>: Cho phép client gửi nhiều yêu cầu qua một kết nối TCP mà không cần đợi phản hồi. Ví dụ, khi trình duyệt cần hai hình ảnh, nó có thể yêu cầu chúng liên tiếp, giúp giảm thời gian chờ.<figure class=center><img src=/posts/http-1-vs-http-2/image3.png width=500px></figure></p></li><li><p><strong>Mã hóa truyền theo khối</strong>: Máy chủ có thể gửi phản hồi theo từng khối nhỏ thay vì đợi toàn bộ phản hồi sẵn sàng, giúp hiển thị trang ban đầu nhanh hơn.<figure class=center><img src=/posts/http-1-vs-http-2/image4.png width=700px></figure></p></li><li><p><strong>Caching tốt hơn và yêu cầu có điều kiện</strong>: Thêm header như Cache-Control để quản lý nội dung cache và giảm truyền dữ liệu không cần thiết và header Etag, If-Modified-Since cho phép client chỉ yêu cầu tài nguyên nếu chúng đã thay đổi.<figure class=center><img src=/posts/http-1-vs-http-2/image5.png width=600px></figure><figure class=center><img src=/posts/http-1-vs-http-2/image6.png width=600px></figure></p></li></ol><p>Tuy nhiên, khi trang web ngày càng lớn và phức tạp, HTTP 1.1 bộc lộ vấn đề lớn: head-of-line blocking. Nếu yêu cầu đầu tiên trong pipeline bị trì hoãn, tất cả các yêu cầu khác phải đợi.<figure class=center><img src=/posts/http-1-vs-http-2/image7.png width=600px></figure></p><p>Các nhà phát triển tìm ra cách giải quyết:</p><ul><li>Domain sharding: Phục vụ tài nguyên tĩnh từ các tên miền phụ, mỗi tên miền phụ có thêm 6 kết nối</li><li>Gộp tệp: Kết hợp hình ảnh bằng sprites, nối tệp CSS và JavaScript</li></ul><h2 id=http-2---cuộc-cách-mạng-hiệu-suất>HTTP 2 - Cuộc cách mạng hiệu suất</h2><p>Năm 2015, HTTP 2 ra đời, được thiết kế để khắc phục các vấn đề hiệu suất của HTTP 1. Nó mang lại những cải tiến lớn:</p><ol><li><p><strong>Giao thức nhị phân</strong>: Không giống như plain text của HTTP 1, HTTP 2 sử dụng định dạng binary. Dữ liệu được chia thành các đơn vị nhỏ hơn gọi là frame, được gửi qua kết nối TCP.<figure class=center><img src=/posts/http-1-vs-http-2/image8.png width=500px></figure></p></li><li><p><strong>Multiplexing (đa luồng trên một kết nối)</strong>: Client và server có thể chia nhỏ tin nhắn HTTP thành các frame độc lập, trộn lẫn trong quá trình truyền và ghép lại ở đầu bên kia. Điều này giải quyết vấn đề head-of-line blocking.<figure class=center><img src=/posts/http-1-vs-http-2/image9.png width=700px></figure></p></li><li><p><strong>Prioritization (ưu tiên tài nguyên)</strong>: Cho phép client xác định mức độ ưu tiên của các request, giúp server biết nên gửi tài nguyên nào trước.</p></li><li><p><strong>Server push</strong>: HTTP 2 cho phép nhiều phản hồi cho yêu cầu của client. Máy chủ có thể gửi tài nguyên bổ sung cùng với trang HTML được yêu cầu, như cung cấp cho client tài nguyên trước khi họ yêu cầu.<figure class=center><img src=/posts/http-1-vs-http-2/image10.png width=600px></figure></p></li><li><p><strong>Nén header</strong>: Trong HTTP 1, chỉ dữ liệu chính được nén, header được gửi dưới dạng văn bản thuần túy. HTTP 2 sử dụng <strong>HPACK</strong> để làm nhỏ header và ghi nhớ header trước đó để nén header tương lai hiệu quả hơn.</p></li></ol><h2 id=tình-hình-hiện-tại>Tình hình hiện tại</h2><p>Tính đến nay:</p><ul><li>HTTP 1.1 vẫn được sử dụng rộng rãi, đặc biệt cho các trang web đơn giản</li><li>HTTP 2 đã được áp dụng nhiều, xử lý hơn 60% yêu cầu web theo một số ước tính</li></ul><p>Đó là hành trình qua sự phát triển của HTTP. Chúng ta đã thấy nó thay đổi từ mô hình đơn giản của HTTP 1 đến ghép kênh của HTTP 2. Các giao thức nền tảng của web đã thích ứng với nhu cầu ngày càng tăng của chúng ta về trải nghiệm trực tuyến nhanh chóng và đáng tin cậy.</p></section><div class=post-tags></div></div></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/caubechankiu rel=me title=GitHub><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github"/></svg></a><a class=border></a><a class=soc href=https://www.facebook.com/trinhthevils rel=me title=Facebook><svg class="feather"><use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#facebook"/></svg></a><a class=border></a></div><div class=footer-info>2025 © caubechankiu | <a href=https://github.com/athul/archie>Archie Theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></footer></div></body></html>